<div class="col-xs-12" >
	<div 
		class="col-xs-12  bottom_line"
	>
		<input type="checkbox" ng-model="cache.mode" />tag搜尋模式
	</div>
	<div 
		class="col-xs-12  bottom_line"
	>
		新增標籤列表
		<button 
		class="btn btn-sm" 
		ng-click="cache.insert_list.splice($index,1)"
		ng-repeat="insert in cache.insert_list"
		>{{insert}}</button>
	</div>
	<div 
		class="col-xs-12  bottom_line"
	>	
		<pagnation 
		data="cache.limit" 
		callback="get" 
		></pagnation>
	</div>
	<div 
		class="col-xs-12  bottom_line"
	>	
		系統訊息:{{message}}
	</div>
	
	<div 
		class="col-xs-12  bottom_line"
		style="height:50px;"
	>
		搜尋條件
		<button 
		ng-click="cache.where_list.splice($index,1)"
		class="btn btn-primary btn-sm"
		ng-repeat="item in cache.where_list"
		>
		{{field_data[item.field].name}}
		{{item.type==2?'包含':'等於'}}
		{{field_data[item.field].list[item.value_tmp] || item.value_tmp}}
		</button>
	</div>
	
	
	<div 
	class="col-xs-12 odd"
	style="height:50px;"
	>
		<div class="col-xs-2">
			<textarea 
			placeholder="id"
			style="width:30%;"
			type="text" 
			ng-model="search.id"
			ng-enter="add_where_list('id',0,search);"
			></textarea>
			<textarea 
			placeholder="名稱"
			style="width:30%;"
			type="text" 
			ng-model="search.name"
			ng-enter="add_where_list('name',2,search);"
			></textarea>
			<textarea 
			placeholder="fb_id"
			style="width:30%;"
			type="text" 
			ng-model="search.fb_id"
			ng-enter="add_where_list('fb_id',0,search);"
			></textarea>
		</div>
		
		<div class="col-xs-1">
			<select 
			ng-options="id*1 as name for (id,name) in field_data.status.list"
			ng-model="search.status"
			ng-change="add_where_list('status',0,search);"
			></select>
			<button 
			ng-if="0"
			class="btn btn-primary btn-sm"
			ng-repeat="(id,name) in field_data.status.list"
			ng-click="search.status=id;add_where_list('status',0,search);"
			>
			{{name}}
			</button>
		</div>
		<div class="col-xs-1">
			<textarea 
			placeholder="註記"
			style="width:90%;"
			type="text" 
			ng-model="search.comment"
			ng-enter="add_where_list('comment',2,search);"
			></textarea>
		</div>
		<div class="col-xs-4">
		標籤
		</div>
		<div class="col-xs-1">
		人數
		</div>
		<div class="col-xs-2">
		功能
		</div>
	</div>
	<div class="col-xs-12" ng-if="!list.length">
		沒有資料
	</div>
	<div 
	ng-if="list.length"
	style="height:50px;"
	ng-class="$odd?'odd':'even'"
	class="col-xs-12 " 
	ng-repeat="item in list"
	>
		<div class="col-xs-2">
			{{item.fb_id}}
			<a 
			ng-show="!show"
			ng-right-click="show=!show"
			class="btn btn-primary btn-sm"
			target="_blank" href="http://facebook.com/{{item.fb_id}}">
			{{item.id}}:{{item.name}}
			</a>
			<div 
			ng-show="show"
			>
				<textarea 
				ng-enter="show=!show;text_change(item,'name');"
				style="width:90%;"
				ng-model="item.name"
				></textarea>
			</div>
		</div>
		<div class="col-xs-1">
			
			<select 
			ng-options="id*1 as name for (id,name) in field_data.status.list"
			ng-model="item.status"
			ng-change="ch({status:item.status},{id:item.id})"
			></select>
			
			<button 
			ng-if="0"
			class="btn btn-sm"
			ng-class="id==item.status?'btn-danger':'btn-primary'"
			ng-repeat="(id,name) in field_data.status.list"
			ng-click="ch({status:id},{id:item.id})"
			>
			{{name}}
			</button>
		</div>
		<div class="col-xs-1">
			<textarea 
			style="width:90%;"
			ng-model="item.comment"
			ng-change="text_change(item,'comment')"
			></textarea>
		</div>
		
		<div class="col-xs-4">
			<textarea 
			style="width:70px;vertical-align:middle;"
			ng-model="tag.name"
			ng-enter="addTag(item.id,tag);"
			></textarea>
			<select 
			ng-options="name as name for name in cache.insert_list"
			ng-model="tag.name"
			ng-change="addTag(item.id,tag);"
			></select>
			<button
			ng-if="0"			
			class="btn btn-sm" 
			ng-repeat="insert in cache.insert_list"
			>{{insert}}</button>
			
			<button
			class="btn btn-sm btn-primary" 
			ng-click="delTag(item.id,$index)"
			ng-repeat="tag_name in tagList[item.id]"
			>{{tag_name}}</button>
			
		</div>
		<div class="col-xs-1">
		0
		</div>
		<div class="col-xs-2 ">
			<button class="btn btn-primary">同步線上</button>
		</div>
	</div>
</div>